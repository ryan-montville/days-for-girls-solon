import{i as u,a as f,g as d,c as h,s as m,b as n,T as c,d as v,e as D}from"./app-Dx6EPV0x.js";const g=document.getElementById("create-event");async function w(){n("Submitting event data...","main-message","info");const e=new FormData(g);let t={eventTitle:"",eventDate:c.fromDate(new Date(0)),eventLocation:"",eventTime:"",eventDescription:"",numberAttending:0},a=e.get("eventTitle");if(a===null||a.toString().trim()===""){n("Please enter the title of the event","main-message","error");return}else t.eventTitle=v(a.toString());const r=e.get("eventDate");if(r===null||r===""){n("Please enter the date of the event","main-message","error");return}else{const l=new Date(r.toString());t.eventDate=c.fromDate(l)}const i=e.get("eventLocation");if(i===null||i.toString().trim()===""){n("Please enter the location of the event","main-message","error");return}else t.eventLocation=v(i.toString());const s=e.get("eventTime");if(s===null||s.toString().trim()===""){n("Please enter the time of the event","main-message","error");return}else t.eventTime=s.toString();const o=e.get("eventDescription");if(o===null||o.toString().trim()===""){n("Please enter a description for the event","main-message","error");return}else t.eventDescription=o.toString();try{await D(t),m(`Successfully created event '${t.eventTitle}'`,"main-message","check_circle"),window.location.href="events.html"}catch(l){n(l,"main-message","error")}}u("Upcoming Events","Create Event").then(async()=>{f.onAuthStateChanged(async e=>{e?await d(e.uid)==="admin"?g.addEventListener("submit",a=>{a.preventDefault(),h(),w()}):(m("Only admins can create new events","main-message","error"),window.location.href="events.html"):(m("Only admins can create new events","main-message","error"),window.location.href="events.html")})});
