import{i as E,m as g,w as C,a as b,l as A}from"./app-p2LSsebp.js";let u=document.getElementById("maincontent");function f(n,o){let e=document.createElement("article");e.setAttribute("id",n.eventId.toString()),e.setAttribute("class","card");let t=document.createElement("h3"),d=document.createTextNode(n.eventTitle);t.appendChild(d),e.appendChild(t);let a=document.createElement("h4"),i=document.createTextNode(`${A(n.eventDate,"longDate")} ${n.eventTime}`);a.appendChild(i),e.appendChild(a);let r=document.createElement("h4"),p=document.createTextNode(n.eventLocation);r.appendChild(p),e.appendChild(r);let s=document.createElement("h4"),h=document.createTextNode(`Number Attending: ${n.numberAttending}`);s.appendChild(h),e.appendChild(s);let m=document.createElement("p"),v=document.createTextNode(n.eventDescription);m.appendChild(v),e.appendChild(m);let l=document.createElement("section");l.setAttribute("class","button-row left");let c=document.createElement("a");return c.setAttribute("class","secondary"),o?(c.setAttribute("href",`./manage-event?id=${n.eventId}`),c.textContent="Manage Event"):(c.setAttribute("href",`./event-sign-up.html?id=${n.eventId}`),c.textContent="Sign Up"),l.appendChild(c),e.appendChild(l),e}async function T(n){let o=[];try{o=await C()}catch{b("Failed to load events. Please try reloading the page","main-message","error")}if(o.length===0){const e=document.createElement("section");e.setAttribute("id","no-events-card"),e.setAttribute("class","card");const t=document.createElement("p"),d=document.createTextNode("There are currently no upcoming events. Please check back later.");t.appendChild(d),e.appendChild(t);const a=document.getElementById("loading");a&&a.remove(),u.appendChild(e)}else{const e=o.reduce((d,a)=>{const i=f(a,n);return d.appendChild(i),d},document.createElement("section"));e.setAttribute("id","events-list");const t=document.getElementById("loading");t&&t.remove(),u.appendChild(e)}}function y(n){const o=document.getElementById("events-header"),e=document.getElementById("events-list");if(e&&e.remove(),n){const t=document.createElement("a");t.setAttribute("href","create-new-event.html"),t.setAttribute("class","secondary");const d=document.createElement("span");d.setAttribute("class","material-symbols-outlined");const a=document.createTextNode("calendar_add_on");d.appendChild(a),t.appendChild(d);const i=document.createTextNode("Create New Event");t.appendChild(i),o.appendChild(t)}else{const t=o.querySelector("a");t&&t.remove()}}E("Upcoming Events").then(()=>{g.onAuthStateChanged(n=>{y(n),T(n)})});
