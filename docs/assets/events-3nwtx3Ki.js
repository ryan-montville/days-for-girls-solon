import{i as E,v as C,a as g,m as b}from"./app-BYHXpHK6.js";import{c as A}from"./firebaseService-D73gR3hb.js";let u=document.getElementById("maincontent");function f(n,a){let e=document.createElement("article");e.setAttribute("id",n.eventId.toString()),e.setAttribute("class","card");let t=document.createElement("h3"),d=document.createTextNode(n.eventTitle);t.appendChild(d),e.appendChild(t);let o=document.createElement("h4"),i=document.createTextNode(`${b(n.eventDate,"longDate")} ${n.eventTime}`);o.appendChild(i),e.appendChild(o);let l=document.createElement("h4"),p=document.createTextNode(n.eventLocation);l.appendChild(p),e.appendChild(l);let s=document.createElement("h4"),h=document.createTextNode(`Number Attending: ${n.numberAttending}`);s.appendChild(h),e.appendChild(s);let m=document.createElement("p"),v=document.createTextNode(n.eventDescription);m.appendChild(v),e.appendChild(m);let r=document.createElement("section");r.setAttribute("class","button-row left");let c=document.createElement("a");return c.setAttribute("class","secondary"),a?(c.setAttribute("href",`./manage-event?id=${n.eventId}`),c.textContent="Manage Event"):(c.setAttribute("href",`./event-sign-up.html?id=${n.eventId}`),c.textContent="Sign Up"),r.appendChild(c),e.appendChild(r),e}async function T(n){let a=[];try{a=await A()}catch{g("Failed to load events. Please try reloading the page","main-message","error")}if(a.length===0){const e=document.createElement("section");e.setAttribute("id","no-events-card"),e.setAttribute("class","card");const t=document.createElement("p"),d=document.createTextNode("There are currently no upcoming events. Please check back later.");t.appendChild(d),e.appendChild(t),u.appendChild(e)}else{const e=a.reduce((d,o)=>{const i=f(o,n);return d.appendChild(i),d},document.createElement("section"));e.setAttribute("id","events-list");const t=document.getElementById("loading");t&&t.remove(),u.appendChild(e)}}function x(n){const a=document.getElementById("events-header"),e=document.getElementById("events-list");if(e&&e.remove(),n){const t=document.createElement("a");t.setAttribute("href","create-new-event.html"),t.setAttribute("class","secondary");const d=document.createElement("span");d.setAttribute("class","material-symbols-outlined");const o=document.createTextNode("calendar_add_on");d.appendChild(o),t.appendChild(d);const i=document.createTextNode("Create New Event");t.appendChild(i),a.appendChild(t)}else{const t=a.querySelector("a");t&&t.remove()}}E("Upcoming Events").then(()=>{C.onAuthStateChanged(n=>{x(n),T(n)})});
