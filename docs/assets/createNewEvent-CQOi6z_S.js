import{i as g,a as u,g as f,c as d,s as m,b as n,T as c,d as h}from"./app-DSFmZZlq.js";const v=document.getElementById("create-event");async function D(){n("Submitting event data...","main-message","info");const e=new FormData(v);let t={eventTitle:"",eventDate:c.fromDate(new Date(0)),eventLocation:"",eventTime:"",eventDescription:"",numberAttending:0},a=e.get("eventTitle");if(a===null||a.toString().trim()===""){n("Please enter the title of the event","main-message","error");return}else t.eventTitle=a.toString();const r=e.get("eventDate");if(r===null||r===""){n("Please enter the date of the event","main-message","error");return}else{const l=new Date(r.toString());t.eventDate=c.fromDate(l)}const i=e.get("eventLocation");if(i===null||i.toString().trim()===""){n("Please enter the location of the event","main-message","error");return}else t.eventLocation=i.toString();const s=e.get("eventTime");if(s===null||s.toString().trim()===""){n("Please enter the time of the event","main-message","error");return}else t.eventTime=s.toString();const o=e.get("eventDescription");if(o===null||o.toString().trim()===""){n("Please enter a description for the event","main-message","error");return}else t.eventDescription=o.toString();try{await h(t),m(`Successfully created event '${t.eventTitle}'`,"main-message","check_circle"),window.location.href="events.html"}catch(l){n(l,"main-message","error")}}g("Upcoming Events","Create Event").then(async()=>{u.onAuthStateChanged(async e=>{e?await f(e.uid)==="admin"?v.addEventListener("submit",a=>{a.preventDefault(),d(),D()}):(m("Only admins can create new events","main-message","error"),window.location.href="events.html"):(m("Only admins can create new events","main-message","error"),window.location.href="events.html")})});
