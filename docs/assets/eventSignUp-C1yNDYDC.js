import{a as i,z as g,i as p,c as f,o as h,A as v,B as C}from"./app-BUh_7lX5.js";const l=document.getElementById("sign-up-form"),S=window.location.search,E=new URLSearchParams(S),m=E.get("id");let s=0;if(m){const e=parseInt(m,10);isNaN(e)?i("Could not find event","main-message","error"):s=e}else i("Could not find event","main-message","error");const c=g(s);function y(e){let t=document.getElementById("sign-up-header"),n=document.createElement("h2"),a=document.createTextNode(`Sign up for ${e.eventTitle}`);n.appendChild(a),t.appendChild(n);let r=document.createElement("h3"),o=document.createTextNode(`${h(e.eventDate.toString(),"longDate")} ${e.eventTime}`);r.appendChild(o),t.appendChild(r);let d=document.createElement("h3"),u=document.createTextNode(e.eventLocation);d.appendChild(u),t.appendChild(d)}function T(){const e=new FormData(l);let t={entryId:0,eventId:s,fullName:"",email:""};t.entryId=v();let n=e.get("fullName");if(n===null||n.toString().trim()===""){i("Please enter your name","main-message","error");return}else if(n.toString().split(" ").length<2){i("Please enter your first and last name","main-message","error");return}else t.fullName=n.toString();let a=e.get("email");if(a===null||a.toString().trim()===""){i("Please enter your email","main-message","error");return}else t.email=a.toString();let r=e.get("comments");r&&(t.comments=r.toString()),C(t),i("You have sucessfully signed up for the event","main-message","check_circle")}if(c)y(c);else{i("Could not find event","main-message","error"),l.remove();let e=document.createElement("section");e.setAttribute("class","card");let t=document.createElement("h2"),n=document.createTextNode("Could not find event");t.appendChild(n),e.appendChild(t);let a=document.createElement("p"),r=document.createTextNode("The event you were looking for does not exist or the url is incorrect. Please go back to the events page and try again.");a.appendChild(r),e.appendChild(a);let o=document.querySelector("main");o&&o.appendChild(e)}p("Upcoming Events");l.addEventListener("submit",e=>{e.preventDefault(),f(),T()});
