import{i as E,a as g,g as C,x as b,b as A,n as f}from"./app-HsxJ1nTD.js";let u=document.getElementById("maincontent");function T(n,d){let e=document.createElement("article");e.setAttribute("id",n.eventId.toString()),e.setAttribute("class","card");let t=document.createElement("h3"),a=document.createTextNode(n.eventTitle);t.appendChild(a),e.appendChild(t);let o=document.createElement("h4"),i=document.createTextNode(`${f(n.eventDate,"longDate")} ${n.eventTime}`);o.appendChild(i),e.appendChild(o);let r=document.createElement("h4"),p=document.createTextNode(n.eventLocation);r.appendChild(p),e.appendChild(r);let s=document.createElement("h4"),h=document.createTextNode(`Number Attending: ${n.numberAttending}`);s.appendChild(h),e.appendChild(s);let m=document.createElement("p"),v=document.createTextNode(n.eventDescription);m.appendChild(v),e.appendChild(m);let l=document.createElement("section");l.setAttribute("class","button-row left");let c=document.createElement("a");return c.setAttribute("class","secondary"),d==="admin"?(c.setAttribute("href",`./manage-event?id=${n.eventId}`),c.textContent="Manage Event"):(c.setAttribute("href",`./event-sign-up.html?id=${n.eventId}`),c.textContent="Sign Up"),l.appendChild(c),e.appendChild(l),e}async function y(n){let d=[];try{d=await b()}catch(e){A(e,"main-message","error");return}if(d.length===0){const e=document.createElement("section");e.setAttribute("id","no-events-card"),e.setAttribute("class","card");const t=document.createElement("p"),a=document.createTextNode("There are currently no upcoming events. Please check back later.");t.appendChild(a),e.appendChild(t);const o=document.getElementById("loading");o&&o.remove(),u.appendChild(e)}else{const e=d.reduce((a,o)=>{const i=T(o,n);return a.appendChild(i),a},document.createElement("section"));e.setAttribute("id","events-list");const t=document.getElementById("loading");t&&t.remove(),u.appendChild(e)}}async function x(n){const d=document.getElementById("events-header"),e=document.getElementById("events-list");if(e&&e.remove(),n==="admin"){const t=document.createElement("a");t.setAttribute("href","create-new-event.html"),t.setAttribute("class","secondary");const a=document.createElement("span");a.setAttribute("class","material-symbols-outlined");const o=document.createTextNode("calendar_add_on");a.appendChild(o),t.appendChild(a);const i=document.createTextNode("Create New Event");t.appendChild(i),d.appendChild(t)}else{const t=d.querySelector("a");t&&t.remove()}}E("Upcoming Events","Upcoming Events").then(()=>{g.onAuthStateChanged(async n=>{let d="";if(n){const e=await C(n.uid);e?d=e:d="signedInUser"}else d="notSignedIn";x(d),y(d)})});
