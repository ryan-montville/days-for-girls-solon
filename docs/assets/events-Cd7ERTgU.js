import{i as E,y as C,a as g,m as b}from"./app-CMNtohD9.js";import{g as A}from"./firebaseService-C3nclkl3.js";let p=document.getElementById("maincontent");function T(n,d){let e=document.createElement("article");e.setAttribute("id",n.eventId.toString()),e.setAttribute("class","card");let t=document.createElement("h3"),a=document.createTextNode(n.eventTitle);t.appendChild(a),e.appendChild(t);let o=document.createElement("h4"),i=document.createTextNode(`${b(n.eventDate,"longDate")} ${n.eventTime}`);o.appendChild(i),e.appendChild(o);let r=document.createElement("h4"),u=document.createTextNode(n.eventLocation);r.appendChild(u),e.appendChild(r);let s=document.createElement("h4"),h=document.createTextNode(`Number Attending: ${n.numberAttending}`);s.appendChild(h),e.appendChild(s);let m=document.createElement("p"),v=document.createTextNode(n.eventDescription);m.appendChild(v),e.appendChild(m);let l=document.createElement("section");l.setAttribute("class","button-row left");let c=document.createElement("a");return c.setAttribute("class","secondary"),d?(c.setAttribute("href",`./manage-event?id=${n.eventId}`),c.textContent="Manage Event"):(c.setAttribute("href",`./event-sign-up.html?id=${n.eventId}`),c.textContent="Sign Up"),l.appendChild(c),e.appendChild(l),e}async function f(n){let d=[];try{d=await A()}catch{g("Failed to load events. Please try reloading the page","main-message","error")}if(d.length===0){const e=document.createElement("section");e.setAttribute("id","no-events-card"),e.setAttribute("class","card");const t=document.createElement("p"),a=document.createTextNode("There are currently no upcoming events. Please check back later.");t.appendChild(a),e.appendChild(t),p.appendChild(e)}else{console.log(d);const e=d.reduce((t,a)=>{const o=T(a,n);return t.appendChild(o),t},document.createElement("section"));e.setAttribute("id","events-list"),p.appendChild(e)}}function x(n){const d=document.getElementById("events-header"),e=document.getElementById("events-list");if(e&&e.remove(),n){const t=document.createElement("a");t.setAttribute("href","create-new-event.html"),t.setAttribute("class","secondary");const a=document.createElement("span");a.setAttribute("class","material-symbols-outlined");const o=document.createTextNode("calendar_add_on");a.appendChild(o),t.appendChild(a);const i=document.createTextNode("Create New Event");t.appendChild(i),d.appendChild(t)}else{const t=d.querySelector("a");t&&t.remove()}}E("Upcoming Events").then(()=>{C.onAuthStateChanged(n=>{x(n),f(n)})});
